mixin hints-with-counts(blockOrRelatedBlock, highlight)
  td.hints-with-counts
    ul
      li(ng-repeat='hintWithCount in #{blockOrRelatedBlock}.hintsWithCounts')
        if highlight
          span(ng-class="{'bold-text' : hintsToHighlight && hintsToHighlight[hintWithCount[0]]}") {{hintWithCount[0]}}
        else
          span {{hintWithCount[0]}}
        span.label.pull-right(ng-show='hintWithCount[1] > 1')
          | &times;{{hintWithCount[1]}}
    button.btn(href='#',
        ng-class='{disabled : fetchingBlockHints}',
        ng-show='#{blockOrRelatedBlock}.hintsRedacted && !#{blockOrRelatedBlock}.fetchedBlockHints',
        ng-click='fetchBlockHints(#{blockOrRelatedBlock})')
      | Show {{#{blockOrRelatedBlock}.hintsRedactedUnique | number}} more hints&nbsp;
      i.icon-refresh(ng-show='#{blockOrRelatedBlock}.fetchingBlockHints')